<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.2) on Sat Oct 17 07:02:27 PDT 2020 -->
<title>newAminalFunctions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-10-17">
<meta name="description" content="declaration: package: range_speed, class: newAminalFunctions">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/newAminalFunctions.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">range_speed</a></div>
<h1 title="Class newAminalFunctions" class="title">Class newAminalFunctions</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">range_speed.newAminalFunctions</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">newAminalFunctions</span>
extends java.lang.Object</pre>
<div class="block">Input: GPS and Time data files
 Output: MCP_Results.csv(Calculates convex hull vertices of cow movements on each day, pre-day, day-time and post-day)  
 MCP_Area_Results.csv(Calculates convex hull area of cow movements on each day, pre-day, day-time and post-day)
 movement_partition.csv(calculates cows movement partition)
 time_slots.csv (the time slots of the activities for each cow in each day</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="ConvexHull.html" title="class in range_speed">ConvexHull</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ch">ch</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashSet&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cowList">cowList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dataFile">dataFile</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashSet&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dateList">dateList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.text.DateFormat</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DateTimeFormatter">DateTimeFormatter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#day_pointsMap">day_pointsMap</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#grazing_speed">grazing_speed</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lag">lag</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.String,&#8203;double[]&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#points_time_Map">points_time_Map</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.Double[]&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pointsMap">pointsMap</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#post_pointsMap">post_pointsMap</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pre_pointsMap">pre_pointsMap</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rest_speed">rest_speed</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#threshold">threshold</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#TimeFile">TimeFile</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.text.DateFormat</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#TimeFormatter">TimeFormatter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,&#8203;org.apache.commons.lang3.tuple.Pair&lt;java.lang.String,&#8203;java.lang.String&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timeObj">timeObj</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,java.lang.String,double,double,double,int)">newAminalFunctions</a></span>&#8203;(java.lang.String&nbsp;fileDataPosition,
java.lang.String&nbsp;fileTime,
double&nbsp;rest_speed,
double&nbsp;grazing_speed,
double&nbsp;threshold,
int&nbsp;lag)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#convex_area(range_speed.Point%5B%5D)">convex_area</a></span>&#8203;(<a href="Point.html" title="class in range_speed">Point</a>[]&nbsp;pin_s)</code></th>
<td class="colLast">
<div class="block">Calculates convex hull area of cow movements by given convex hull points
 Algorithm: Polygon Area</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#convexHull()">convexHull</a></span>()</code></th>
<td class="colLast">
<div class="block">Calculates convex hull vertices of cow movements on each day, pre-day, day-time and post-day and write data into MCP_Results.csv, which are sorted by Cow_id, then by day time partition, Date
 Calculates convex hull area of cow movements on each day, pre-day, day-time and post-day and write info into MCP_Area_Results.csv, which are sorted by Cow_id, then by Date
 Algorithm: Andrew's monotone chain convex hull algorithm(The function accept the GPS locations of one cow, the vertices of the convex hull are returned.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="Point.html" title="class in range_speed">Point</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FindConvexHull(java.util.HashSet)">FindConvexHull</a></span>&#8203;(java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&nbsp;points)</code></th>
<td class="colLast">
<div class="block">Find convex hull points by given GPS data
 Algorithm: It calls ConvexHull.java, which uses Andrew's monotone chain convex hull algorithm</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>private double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findTimeSlot(java.util.ArrayList,double,int)">findTimeSlot</a></span>&#8203;(java.util.ArrayList&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.String,&#8203;java.lang.Double&gt;&gt;&nbsp;speedList,
double&nbsp;threshold,
int&nbsp;lag)</code></th>
<td class="colLast">
<div class="block">Find cows movement time slots by given speedList, threshold and lag</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPartitionType(java.lang.String,java.lang.String,java.lang.String)">getPartitionType</a></span>&#8203;(java.lang.String&nbsp;cur_date,
java.lang.String&nbsp;Sunrise,
java.lang.String&nbsp;Sunset)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEquals(double%5B%5D,double%5B%5D)">isEquals</a></span>&#8203;(double[]&nbsp;refinded_s_1,
double[]&nbsp;refinded_s_2)</code></th>
<td class="colLast">
<div class="block">Determine whether two time slots are equal or not</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#movement_type(double)">movement_type</a></span>&#8203;(double&nbsp;speed)</code></th>
<td class="colLast">
<div class="block">Get movement states by given speed</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#movementParitionForCow(java.lang.String)">movementParitionForCow</a></span>&#8203;(java.lang.String&nbsp;cowid)</code></th>
<td class="colLast">
<div class="block">Counts the percentage of each cow that was resting, walking and running during the whole day, the pre-day, the daytime, and the post-day according given time date.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#movementPartition()">movementPartition</a></span>()</code></th>
<td class="colLast">
<div class="block">Call movementParitionForCow() to calculates cows movement partition, represented as percentage, according to the user inputted upper bound of the rest movement speed and the grazing movement speed.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noActivityInFellow(int,double%5B%5D,int)">noActivityInFellow</a></span>&#8203;(int&nbsp;index,
double[]&nbsp;signals,
int&nbsp;lag)</code></th>
<td class="colLast">
<div class="block">Determine whether the cow has activity in fellow by given signal and lag</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noActivityInPrevious(int,double%5B%5D,int)">noActivityInPrevious</a></span>&#8203;(int&nbsp;index,
double[]&nbsp;signals,
int&nbsp;lag)</code></th>
<td class="colLast">
<div class="block">Determine whether the cow has activity in previous by given signal and lag</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#printArray(double%5B%5D)">printArray</a></span>&#8203;(double[]&nbsp;a)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readGPSData()">readGPSData</a></span>()</code></th>
<td class="colLast">
<div class="block">Read GPS data and store info in this.cowList and this.dateList
 It uses info of timeObj and divides data into three time periods(stores in pre_pointsMap, day_pointsMap and post_pointsMap)</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readTime()">readTime</a></span>()</code></th>
<td class="colLast">
<div class="block">Read time data and store info in this.timeObj(data -> <Sunrise and Sunset>)</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>private double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refine_signal(double%5B%5D,int)">refine_signal</a></span>&#8203;(double[]&nbsp;signals,
int&nbsp;lag)</code></th>
<td class="colLast">
<div class="block">Get refined signal array by given lag</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#time_slot()">time_slot</a></span>()</code></th>
<td class="colLast">
<div class="block">Identifies the activity time slots of the each cow in each day and write data into time_slots.csv</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timeSeriesForCow(java.lang.String)">timeSeriesForCow</a></span>&#8203;(java.lang.String&nbsp;cow_id)</code></th>
<td class="colLast">
<div class="block">Find time series of cows movement, which uses treeSet structure to store the ordered time list</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="dataFile">dataFile</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">dataFile</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="TimeFile">TimeFile</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">TimeFile</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="rest_speed">rest_speed</a></h3>
<div class="memberSignature"><span class="returnType">double</span>&nbsp;<span class="memberName">rest_speed</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="grazing_speed">grazing_speed</a></h3>
<div class="memberSignature"><span class="returnType">double</span>&nbsp;<span class="memberName">grazing_speed</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pointsMap">pointsMap</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.ArrayList&lt;java.lang.Double[]&gt;&gt;&gt;</span>&nbsp;<span class="memberName">pointsMap</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="points_time_Map">points_time_Map</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.String,&#8203;double[]&gt;&gt;&gt;</span>&nbsp;<span class="memberName">points_time_Map</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pre_pointsMap">pre_pointsMap</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&gt;&gt;</span>&nbsp;<span class="memberName">pre_pointsMap</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="day_pointsMap">day_pointsMap</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&gt;&gt;</span>&nbsp;<span class="memberName">day_pointsMap</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="post_pointsMap">post_pointsMap</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashMap&lt;java.lang.String,&#8203;java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&gt;&gt;</span>&nbsp;<span class="memberName">post_pointsMap</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="dateList">dateList</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashSet&lt;java.lang.String&gt;</span>&nbsp;<span class="memberName">dateList</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="cowList">cowList</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashSet&lt;java.lang.String&gt;</span>&nbsp;<span class="memberName">cowList</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="TimeFormatter">TimeFormatter</a></h3>
<div class="memberSignature"><span class="returnType">java.text.DateFormat</span>&nbsp;<span class="memberName">TimeFormatter</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="DateTimeFormatter">DateTimeFormatter</a></h3>
<div class="memberSignature"><span class="returnType">java.text.DateFormat</span>&nbsp;<span class="memberName">DateTimeFormatter</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="timeObj">timeObj</a></h3>
<div class="memberSignature"><span class="returnType">java.util.HashMap&lt;java.lang.String,&#8203;org.apache.commons.lang3.tuple.Pair&lt;java.lang.String,&#8203;java.lang.String&gt;&gt;</span>&nbsp;<span class="memberName">timeObj</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ch">ch</a></h3>
<div class="memberSignature"><span class="returnType"><a href="ConvexHull.html" title="class in range_speed">ConvexHull</a></span>&nbsp;<span class="memberName">ch</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="threshold">threshold</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">threshold</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lag">lag</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">lag</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.lang.String,java.lang.String,double,double,double,int)">newAminalFunctions</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">newAminalFunctions</span>&#8203;(<span class="arguments">java.lang.String&nbsp;fileDataPosition,
java.lang.String&nbsp;fileTime,
double&nbsp;rest_speed,
double&nbsp;grazing_speed,
double&nbsp;threshold,
int&nbsp;lag)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="readTime()">readTime</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">readTime</span>()</div>
<div class="block">Read time data and store info in this.timeObj(data -> <Sunrise and Sunset>)</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readGPSData()">readGPSData</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">readGPSData</span>()</div>
<div class="block">Read GPS data and store info in this.cowList and this.dateList
 It uses info of timeObj and divides data into three time periods(stores in pre_pointsMap, day_pointsMap and post_pointsMap)</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="convexHull()">convexHull</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">convexHull</span>()</div>
<div class="block">Calculates convex hull vertices of cow movements on each day, pre-day, day-time and post-day and write data into MCP_Results.csv, which are sorted by Cow_id, then by day time partition, Date
 Calculates convex hull area of cow movements on each day, pre-day, day-time and post-day and write info into MCP_Area_Results.csv, which are sorted by Cow_id, then by Date
 Algorithm: Andrew's monotone chain convex hull algorithm(The function accept the GPS locations of one cow, the vertices of the convex hull are returned. The complexity for calculation on two-dimensional space is O(nlog(n)))</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPartitionType(java.lang.String,java.lang.String,java.lang.String)">getPartitionType</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getPartitionType</span>&#8203;(<span class="arguments">java.lang.String&nbsp;cur_date,
java.lang.String&nbsp;Sunrise,
java.lang.String&nbsp;Sunset)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cur_date</code> - the string of the current time</dd>
<dd><code>Sunrise</code> - the sunrise time of the date of the input time records</dd>
<dd><code>Sunset</code> - the sunset time of the date of the input time records</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the type of the current time, 0 is the pre day, 1 is the day time, 2 is the post day</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="FindConvexHull(java.util.HashSet)">FindConvexHull</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Point.html" title="class in range_speed">Point</a>[]</span>&nbsp;<span class="memberName">FindConvexHull</span>&#8203;(<span class="arguments">java.util.HashSet&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.Double,&#8203;java.lang.Double&gt;&gt;&nbsp;points)</span></div>
<div class="block">Find convex hull points by given GPS data
 Algorithm: It calls ConvexHull.java, which uses Andrew's monotone chain convex hull algorithm</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>points</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="convex_area(range_speed.Point[])">convex_area</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">convex_area</span>&#8203;(<span class="arguments"><a href="Point.html" title="class in range_speed">Point</a>[]&nbsp;pin_s)</span></div>
<div class="block">Calculates convex hull area of cow movements by given convex hull points
 Algorithm: Polygon Area</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pin_s</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="movementPartition()">movementPartition</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">movementPartition</span>()</div>
<div class="block">Call movementParitionForCow() to calculates cows movement partition, represented as percentage, according to the user inputted upper bound of the rest movement speed and the grazing movement speed. And all data are partitioned into three time periods (pre-day, day-time and post-day). And write data into movement_partition.csv, sorted by cowID</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="movement_type(double)">movement_type</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">movement_type</span>&#8203;(<span class="arguments">double&nbsp;speed)</span></div>
<div class="block">Get movement states by given speed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>speed</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0-rest 1-grazing 2-running</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="movementParitionForCow(java.lang.String)">movementParitionForCow</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">movementParitionForCow</span>&#8203;(<span class="arguments">java.lang.String&nbsp;cowid)</span></div>
<div class="block">Counts the percentage of each cow that was resting, walking and running during the whole day, the pre-day, the daytime, and the post-day according given time date.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cowid</code> - </dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="time_slot()">time_slot</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">time_slot</span>()</div>
<div class="block">Identifies the activity time slots of the each cow in each day and write data into time_slots.csv</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="timeSeriesForCow(java.lang.String)">timeSeriesForCow</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">timeSeriesForCow</span>&#8203;(<span class="arguments">java.lang.String&nbsp;cow_id)</span></div>
<div class="block">Find time series of cows movement, which uses treeSet structure to store the ordered time list</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cow_id</code> - </dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="printArray(double[])">printArray</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">printArray</span>&#8203;(<span class="arguments">double[]&nbsp;a)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="findTimeSlot(java.util.ArrayList,double,int)">findTimeSlot</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">double[]</span>&nbsp;<span class="memberName">findTimeSlot</span>&#8203;(<span class="arguments">java.util.ArrayList&lt;org.apache.commons.lang3.tuple.Pair&lt;java.lang.String,&#8203;java.lang.Double&gt;&gt;&nbsp;speedList,
double&nbsp;threshold,
int&nbsp;lag)</span></div>
<div class="block">Find cows movement time slots by given speedList, threshold and lag</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>speedList</code> - - time --> speed</dd>
<dd><code>threshold</code> - - to determine whether one GPS record is active or not</dd>
<dd><code>lag</code> - - number of GPS records need to be considered in previous and following</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a double array of time slots</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isEquals(double[],double[])">isEquals</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isEquals</span>&#8203;(<span class="arguments">double[]&nbsp;refinded_s_1,
double[]&nbsp;refinded_s_2)</span></div>
<div class="block">Determine whether two time slots are equal or not</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>refinded_s_1</code> - </dd>
<dd><code>refinded_s_2</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean value</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="refine_signal(double[],int)">refine_signal</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">double[]</span>&nbsp;<span class="memberName">refine_signal</span>&#8203;(<span class="arguments">double[]&nbsp;signals,
int&nbsp;lag)</span></div>
<div class="block">Get refined signal array by given lag</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>signals</code> - </dd>
<dd><code>lag</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="noActivityInPrevious(int,double[],int)">noActivityInPrevious</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">noActivityInPrevious</span>&#8203;(<span class="arguments">int&nbsp;index,
double[]&nbsp;signals,
int&nbsp;lag)</span></div>
<div class="block">Determine whether the cow has activity in previous by given signal and lag</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - </dd>
<dd><code>signals</code> - </dd>
<dd><code>lag</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean value</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="noActivityInFellow(int,double[],int)">noActivityInFellow</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">noActivityInFellow</span>&#8203;(<span class="arguments">int&nbsp;index,
double[]&nbsp;signals,
int&nbsp;lag)</span></div>
<div class="block">Determine whether the cow has activity in fellow by given signal and lag</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - </dd>
<dd><code>signals</code> - </dd>
<dd><code>lag</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean value</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/newAminalFunctions.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
